<!doctype html>
<html>
    <head>
        <meta charset='utf-8'>
    </head>
    <body>
			<script type="module" src="modules.js"></script>
			<script type="text/javascript">
				console.log("trying to connect to worker");
				var worker = new SharedWorker("worker.js");
				console.log("worker:", worker);
				var name = undefined;
				worker.port.onmessage = function(e) {
					let msg = e.data[0].split(" ");
					if (msg[0] == "created" && msg[1] == "FM" && name == undefined) {
						name = msg[2];
					}
					console.log("received fm named:", name);
				};
				worker.port.postMessage("new FM");
			</script>
			<div style="position: absolute;
									top: 420px;
									left: 120px;
									width: 100px;
									height: 200px;" id="freq-slider">
				<vertical-slider targetf="window.instruments.seq1.modulator"></vertical-slider>
			</div>
    </body>
</html>
